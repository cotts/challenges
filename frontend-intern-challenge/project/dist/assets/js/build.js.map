{"version":3,"sources":["webpack:///assets/js/build.js","webpack:///webpack/bootstrap f9aa93486a89a8061848","webpack:///./project/src/app.js","webpack:///./project/src/module/utils.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","util","topFiveLista","dom","buscaBotao","buscaTexto","buscaReset","totalHits","path","listaTop","data","map","el","innerHTML","shortUrl","hits","toLocaleString","getDados","getTopFive","then","context","getShortUrl","value","textContent","addEventListener","e","preventDefault","query","addClass","removeClass","document","querySelector","bind","fetch","json","sortDados","sort","a","b","slice","reduce","filter","item","url","includes","obj","element","classname","classList","add","remove"],"mappings":"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","file":"assets/js/build.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1);\n\nvar util = __webpack_require__(2);\n\nvar topFiveLista = util.dom('.top-five-lista');\nvar buscaBotao = util.dom('.busca-form-botao');\nvar buscaTexto = util.dom('.busca-form-texto');\nvar buscaReset = util.dom('.busca-form-limpa');\nvar totalHits = util.dom('.total-hits-contador');\n\n// caminho dos dados no servidor local\nvar path = 'assets/data/urls.json';\n\n// realiza a consulta dos Top 5 elementos e insere no HTML os elementos\nvar listaTop = function listaTop(data) {\n  return data.map(function (el) {\n    return topFiveLista.innerHTML += '<span class=\"top-five-link\">' + el.shortUrl + '</span><span class=\"top-five-hits\">' + el.hits.toLocaleString() + '</span>\\n  <hr>';\n  });\n};\n\nutil.getDados(path);\n\nutil.getTopFive(path).then(function (data) {\n  return listaTop(data);\n});\n\nvar shortUrl = function shortUrl(context) {\n  return util.getShortUrl(path, context).then(function (data) {\n    return buscaTexto.value = data.shortUrl;\n  });\n};\n\nutil.totalHits(path).then(function (data) {\n  return totalHits.textContent = '' + data.toLocaleString();\n});\n\nbuscaBotao.addEventListener('click', function (e) {\n  e.preventDefault();\n  var query = buscaTexto.value;\n  util.addClass(buscaBotao, 'copiar');\n  util.addClass(buscaReset, 'visivel');\n  util.addClass(buscaReset, 'interaction');\n  util.addClass(buscaTexto, 'resultado');\n  util.addClass(buscaTexto, 'interaction');\n  util.removeClass(buscaReset, 'oculto');\n  shortUrl(query);\n});\n\nbuscaReset.addEventListener('click', function () {\n  buscaTexto.value = '';\n  util.removeClass(buscaBotao, 'copiar');\n  util.removeClass(buscaTexto, 'resultado');\n  util.removeClass(buscaTexto, 'interaction');\n  util.removeClass(buscaReset, 'visivel');\n  util.removeClass(buscaReset, 'interaction');\n  util.addClass(buscaReset, 'oculto');\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n// shorthand para selecionar elementos do DOM\nvar dom = document.querySelector.bind(document);\n\n// realiza a busca no caminho indicado e converte o resultado em um array de objetos JSON\nvar getDados = function getDados(path) {\n  return fetch(path).then(function (data) {\n    return data.json();\n  });\n};\n\n// ordena a lista a partir dos hits do maior para o menor\nvar sortDados = function sortDados(path) {\n  return getDados(path).then(function (data) {\n    return data.sort(function (a, b) {\n      return b.hits - a.hits;\n    });\n  });\n};\n\n// seleciona somente os 5 primeiros elementos da lista ordenada em sortDados\nvar getTopFive = function getTopFive(path) {\n  return sortDados(path).then(function (data) {\n    return data.slice(0, 5);\n  });\n};\n\n// mapeia os dados e faz um somatório dos hits de todos os elementos\nvar totalHits = function totalHits(path) {\n  return getDados(path).then(function (data) {\n    return data.map(function (el) {\n      return el.hits;\n    });\n  }).then(function (data) {\n    return data.reduce(function (a, b) {\n      return a + b;\n    });\n  });\n};\n\n// realiza a busca nos dados e retorna o resultado convertido em um objeto\nvar getShortUrl = function getShortUrl(path, context) {\n  return getDados(path).then(function (data) {\n    return data.filter(function (item) {\n      return item.url.includes(context);\n    });\n  }).then(function (data) {\n    return data.reduce(function (obj, i) {\n      return obj[i];\n    });\n  });\n};\n\n// método para adicionar classe para um elemento\nvar addClass = function addClass(element, classname) {\n  return element.classList.add(classname);\n};\n\n// método para remover classe de um elemento\nvar removeClass = function removeClass(element, classname) {\n  return element.classList.remove(classname);\n};\n\n// exporta os módulos como uma feature para utilização em outras aplicações\nmodule.exports = {\n  dom: dom,\n  getDados: getDados,\n  sortDados: sortDados,\n  getTopFive: getTopFive,\n  totalHits: totalHits,\n  getShortUrl: getShortUrl,\n  addClass: addClass,\n  removeClass: removeClass\n};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// assets/js/build.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f9aa93486a89a8061848","require('./sass/style.scss');\n\nconst util = require('./module/utils');\n\nconst topFiveLista = util.dom('.top-five-lista');\nconst buscaBotao = util.dom('.busca-form-botao');\nconst buscaTexto = util.dom('.busca-form-texto');\nconst buscaReset = util.dom('.busca-form-limpa');\nconst totalHits = util.dom('.total-hits-contador');\n\n// caminho dos dados no servidor local\nconst path = 'assets/data/urls.json';\n\n// realiza a consulta dos Top 5 elementos e insere no HTML os elementos\nconst listaTop = data => data.map(el => topFiveLista.innerHTML +=\n  `<span class=\"top-five-link\">${el.shortUrl}</span><span class=\"top-five-hits\">${el.hits.toLocaleString()}</span>\n  <hr>`);\n\nutil.getDados(path);\n\nutil.getTopFive(path)\n  .then(data => listaTop(data));\n\nconst shortUrl = context => util.getShortUrl(path, context)\n  .then(data => buscaTexto.value = data.shortUrl);\n\nutil.totalHits(path)\n  .then(data => totalHits.textContent = (`${data.toLocaleString()}`));\n\nbuscaBotao.addEventListener('click', (e) => {\n  e.preventDefault();\n  const query = buscaTexto.value;\n  util.addClass(buscaBotao, 'copiar');\n  util.addClass(buscaReset, 'visivel');\n  util.addClass(buscaReset, 'interaction');\n  util.addClass(buscaTexto, 'resultado');\n  util.addClass(buscaTexto, 'interaction');\n  util.removeClass(buscaReset, 'oculto');\n  shortUrl(query);\n});\n\nbuscaReset.addEventListener('click', () => {\n  buscaTexto.value = '';\n  util.removeClass(buscaBotao, 'copiar');\n  util.removeClass(buscaTexto, 'resultado');\n  util.removeClass(buscaTexto, 'interaction');\n  util.removeClass(buscaReset, 'visivel');\n  util.removeClass(buscaReset, 'interaction');\n  util.addClass(buscaReset, 'oculto');\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./project/src/app.js","// shorthand para selecionar elementos do DOM\nconst dom = document.querySelector.bind(document);\n\n// realiza a busca no caminho indicado e converte o resultado em um array de objetos JSON\nconst getDados = path => fetch(path)\n  .then(data => data.json());\n\n// ordena a lista a partir dos hits do maior para o menor\nconst sortDados = path => getDados(path)\n  .then(data => data.sort((a, b) => b.hits - a.hits));\n\n// seleciona somente os 5 primeiros elementos da lista ordenada em sortDados\nconst getTopFive = path => sortDados(path).then(data => data.slice(0, 5));\n\n// mapeia os dados e faz um somatório dos hits de todos os elementos\nconst totalHits = path => getDados(path)\n  .then(data => data.map(el => el.hits))\n  .then(data => data.reduce((a, b) => a + b));\n\n// realiza a busca nos dados e retorna o resultado convertido em um objeto\nconst getShortUrl = (path, context) => getDados(path)\n  .then(data => data.filter(item => item.url.includes(context)))\n  .then(data => data.reduce((obj, i) => obj[i]));\n\n// método para adicionar classe para um elemento\nconst addClass = (element, classname) => element.classList.add(classname);\n\n// método para remover classe de um elemento\nconst removeClass = (element, classname) => element.classList.remove(classname);\n\n\n// exporta os módulos como uma feature para utilização em outras aplicações\nmodule.exports = {\n  dom,\n  getDados,\n  sortDados,\n  getTopFive,\n  totalHits,\n  getShortUrl,\n  addClass,\n  removeClass,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./project/src/module/utils.js"],"sourceRoot":""}